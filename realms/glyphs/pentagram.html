<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>⛤ φ ⛤</title>
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/ascii.css">
    <link rel="stylesheet" href="/css/symbols.css">
    <link rel="stylesheet" href="/css/navigation.css">
    <link rel="stylesheet" href="/css/harmonics.css">
    <link rel="stylesheet" href="/css/performance.css">
</head>
<body>
    <div class="container">
        <div class="border">
            <div class="ascii-art">
╔═══════════════════════════════════════════════╗
║               ⛤ φ ⛤                  ║
║                                               ║
║         ⛤ → φ → ∞    ║
╚═══════════════════════════════════════════════╝
            </div>
            
            <div class="ascii-art pentagram-ascii">
    ✦
    ╱ ╲
    ╱   ╲
    ╱     ╲
    ╱   φ   ╲
    ✦─────────✦
    ╲         ╱
    ╲   φ   ╱
    ╲     ╱
    ╲   ╱
    ╲ ╱
    ✦─────✦
            </div>
            
            <div class="interactive-pentagram" id="pentagram-interactive">
                <canvas id="pentagram-canvas" width="300" height="300"></canvas>
                <div class="golden-ratio-info">φ = 1.618033988...</div>
            </div>
            
            <div class="divider">∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿</div>
            
            <div class="symbol-grid">
                <div class="symbol pentagram-aspect" data-aspect="golden">φ</div>
                <div class="symbol pentagram-aspect" data-aspect="elements">🔥</div>
                <div class="symbol pentagram-aspect" data-aspect="human">👤</div>
                <div class="symbol pentagram-aspect" data-aspect="venus">♀</div>
                <div class="symbol pentagram-aspect" data-aspect="protection">🛡</div>
                <div class="symbol pentagram-aspect" data-aspect="sacred">⭐</div>
                <div class="symbol pentagram-aspect" data-aspect="fibonacci">🌀</div>
                <div class="symbol pentagram-aspect" data-aspect="harmony">♫</div>
            </div>
            
            <div class="ascii-art" style="font-size: 0.8rem;">
    ∑ ∴:
    
    • ⛤ / φ ≈ 1.618
    • ⛤ ⊃ ∞ ⛤
    • ∑ ∠: 5 × 36° = 180°
    • ∠: 36°, ∠: 108°
    
    ◊ ∴:
    
    ⛤ 5 ∈: 🔥, 🌊, 🌍, 💨, ✨
    ⛤ 👤: ○, ╱, ╲, ╱, ╲  
    ⛤ ♀: 8↻ → ⛤
    ⛤ 🛡: ↔ ∅
    
    ♫ "⛤ = ∞ ∴" - Π ♫
            </div>
            
            <div class="navigation">
                <a href="/realms/glyphs/" class="nav-link">☥</a>
                <a href="/" class="nav-link">◊</a>
                <a href="/realms/mathematics/" class="nav-link">∑</a>
            </div>
        </div>
    </div>
    
    <script src="/js/particles.js"></script>
    <script src="/js/harmonics.js"></script>
    <script>
        // ♫ ⛤ φ
        window.harmonics.init();
        
        
        // ○ ● ◉
        initParticles(['⛤', '✦', '⭐', 'φ']);
        
        // Golden ratio constant
        const PHI = (1 + Math.sqrt(5)) / 2;
        
        // Pentagram drawing
        function drawPentagram() {
            const canvas = document.getElementById('pentagram-canvas');
            const ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 120;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Calculate pentagram points
            const points = [];
            for (let i = 0; i < 5; i++) {
                const angle = (i * 2 * Math.PI / 5) - Math.PI / 2; // Start at top
                points.push({
                    x: centerX + radius * Math.cos(angle),
                    y: centerY + radius * Math.sin(angle)
                });
            }
            
            // Draw outer pentagon
            ctx.strokeStyle = 'rgba(255, 215, 0, 0.3)';
            ctx.lineWidth = 1;
            ctx.beginPath();
            for (let i = 0; i < 5; i++) {
                if (i === 0) ctx.moveTo(points[i].x, points[i].y);
                else ctx.lineTo(points[i].x, points[i].y);
            }
            ctx.closePath();
            ctx.stroke();
            
            // Draw pentagram star
            ctx.strokeStyle = 'gold';
            ctx.lineWidth = 3;
            ctx.beginPath();
            for (let i = 0; i < 5; i++) {
                const startPoint = points[i];
                const endPoint = points[(i + 2) % 5]; // Skip one point for star
                
                if (i === 0) ctx.moveTo(startPoint.x, startPoint.y);
                ctx.lineTo(endPoint.x, endPoint.y);
            }
            ctx.stroke();
            
            // Draw inner pentagon
            const innerRadius = radius / PHI / PHI;
            const innerPoints = [];
            for (let i = 0; i < 5; i++) {
                const angle = (i * 2 * Math.PI / 5) - Math.PI / 2;
                innerPoints.push({
                    x: centerX + innerRadius * Math.cos(angle),
                    y: centerY + innerRadius * Math.sin(angle)
                });
            }
            
            ctx.strokeStyle = 'rgba(255, 215, 0, 0.7)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let i = 0; i < 5; i++) {
                if (i === 0) ctx.moveTo(innerPoints[i].x, innerPoints[i].y);
                else ctx.lineTo(innerPoints[i].x, innerPoints[i].y);
            }
            ctx.closePath();
            ctx.stroke();
            
            // Mark golden ratio divisions
            ctx.fillStyle = 'red';
            for (let i = 0; i < 5; i++) {
                const startPoint = points[i];
                const endPoint = points[(i + 2) % 5];
                
                // Find intersection points (golden ratio divisions)
                const intersectX = startPoint.x + (endPoint.x - startPoint.x) / PHI;
                const intersectY = startPoint.y + (endPoint.y - startPoint.y) / PHI;
                
                ctx.beginPath();
                ctx.arc(intersectX, intersectY, 3, 0, 2 * Math.PI);
                ctx.fill();
            }
            
            // Draw vertices
            ctx.fillStyle = 'gold';
            for (let i = 0; i < 5; i++) {
                ctx.beginPath();
                ctx.arc(points[i].x, points[i].y, 4, 0, 2 * Math.PI);
                ctx.fill();
            }
        }
        
        // Animated pentagram with rotation
        let rotation = 0;
        function animatePentagram() {
            const canvas = document.getElementById('pentagram-canvas');
            const ctx = canvas.getContext('2d');
            
            ctx.save();
            ctx.translate(canvas.width / 2, canvas.height / 2);
            ctx.rotate(rotation);
            ctx.translate(-canvas.width / 2, -canvas.height / 2);
            
            drawPentagram();
            
            ctx.restore();
            
            rotation += 0.01;
            requestAnimationFrame(animatePentagram);
        }
        
        // Pentagram aspect interactions
        document.querySelectorAll('.pentagram-aspect').forEach(element => {
            element.addEventListener('click', () => {
                const aspect = element.dataset.aspect;
                showPentagramAspect(aspect, element);
            });
        });
        
        function showPentagramAspect(aspect, element) {
            const aspectData = {
                golden: {
                    name: 'φ ∴',
                    symbol: 'φ',
                    description: '⛤ / φ ≈ 1.618',
                    details: [
                        'φ = (1 + √5) / 2 ≈ 1.618033988...',
                        'AC / CB = φ (where C is intersection)',
                        'Infinite nested pentagrams all follow φ',
                        'Found throughout nature and art'
                    ]
                },
                elements: {
                    name: '5 ∈',
                    symbol: '🔥',
                    description: '⛤ → 5 ∈',
                    details: [
                        '🔥 Fire - Energy, passion, transformation',
                        '🌊 Water - Emotion, intuition, flow',
                        '🌍 Earth - Stability, grounding, material',
                        '💨 Air - Intellect, communication, spirit',
                        '✨ Spirit - Divine, quintessence, unity'
                    ]
                },
                human: {
                    name: '👤 ∴',
                    symbol: '👤',
                    description: '👤 ⊃ ⛤',
                    details: [
                        'Head at top point',
                        'Arms extended to side points',
                        'Legs spread to bottom points',
                        'Sacred geometry of human proportions',
                        'Microcosm of universal harmony'
                    ]
                },
                venus: {
                    name: '♀ ↻',
                    symbol: '♀',
                    description: '♀ 8↻ → ⛤',
                    details: [
                        '8 Earth years = 13 Venus years',
                        '5 synodic periods trace pentagram',
                        'Ancient astronomers knew this pattern',
                        'Symbol of love and beauty',
                        'Celestial mathematics in motion'
                    ]
                },
                protection: {
                    name: '🛡 ◊',
                    symbol: '🛡',
                    description: '⛤ ↔ ∅',
                    details: [
                        'Upright: Protection, positive energy',
                        'Inverted: Banishing, negative forces',
                        'Circle added for containment',
                        'Used in many magical traditions',
                        'Symbol of human will over nature'
                    ]
                },
                sacred: {
                    name: '◊ ∑',
                    symbol: '⭐',
                    description: '⛤ ≈ ∞ ∑',
                    details: [
                        'Sum of angles: 180° (5 × 36°)',
                        'Each point: 36°, each internal: 108°',
                        'Appears in flowers, crystals, shells',
                        'Template for sacred architecture',
                        'Bridge between earthly and divine'
                    ]
                },
                fibonacci: {
                    name: '🌀 ↔',
                    symbol: '🌀',
                    description: 'φ ↔ 🌀',
                    details: [
                        'φ = lim(Fn+1/Fn) as n→∞',
                        'Pentagon sides follow Fibonacci ratios',
                        'Spiral within pentagram follows φ',
                        'Growth patterns in nature',
                        'Mathematical beauty made manifest'
                    ]
                },
                harmony: {
                    name: '♫ ≈',
                    symbol: '♫',
                    description: '⛤ ≈ ♫',
                    details: [
                        'Five-fold symmetry in music theory',
                        'Perfect fifth intervals (3:2 ratio)',
                        'Pentatonic scale (5 notes)',
                        'Harmonic series relationships',
                        'Sound and geometry unified'
                    ]
                }
            };
            
            const info = aspectData[aspect];
            if (!info) return;
            
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(0,0,0,0.95);
                color: white;
                padding: 2rem;
                border: 2px solid gold;
                border-radius: 10px;
                z-index: 1000;
                font-family: monospace;
                max-width: 500px;
            `;
            
            modal.innerHTML = `
                <h3>${info.symbol} ${info.name}</h3>
                <div style="margin: 1.5rem 0;">
                    <p style="margin-bottom: 1rem; font-style: italic; color: gold;">
                        ${info.description}
                    </p>
                    <ul style="list-style: none; padding: 0;">
                        ${info.details.map(detail => `
                            <li style="margin: 0.5rem 0; padding-left: 1rem; position: relative;">
                                <span style="position: absolute; left: 0; color: gold;">⛤</span>
                                ${detail}
                            </li>
                        `).join('')}
                    </ul>
                </div>
                <div style="text-align: center; margin: 1rem 0; font-size: 1.5rem; color: gold;">
                    ⛤ φ ⛤
                </div>
                <div style="margin-top: 1rem; font-size: 0.8rem; opacity: 0.7; text-align: center;">
                    ⌨ → ∅
                </div>
            `;
            
            document.body.appendChild(modal);
            
            element.style.animation = 'pentagram-pulse 2s ease-in-out infinite';
            
            const dismissHandler = () => {
                modal.remove();
                element.style.animation = '';
                document.removeEventListener('keydown', dismissHandler);
            };
            
            setTimeout(() => {
                document.addEventListener('keydown', dismissHandler);
            }, 100);
        }
        
        // Mouse interaction with pentagram
        const canvas = document.getElementById('pentagram-canvas');
        canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            // Create golden spiral effect
            createGoldenSpiral(x, y);
        });
        
        function createGoldenSpiral(centerX, centerY) {
            const canvas = document.getElementById('pentagram-canvas');
            const ctx = canvas.getContext('2d');
            
            let angle = 0;
            let radius = 1;
            const spiralAnimation = () => {
                if (radius > 100) return;
                
                const x = centerX + radius * Math.cos(angle);
                const y = centerY + radius * Math.sin(angle);
                
                ctx.fillStyle = `hsla(${angle * 10}, 70%, 60%, 0.7)`;
                ctx.beginPath();
                ctx.arc(x, y, 2, 0, 2 * Math.PI);
                ctx.fill();
                
                angle += 0.2;
                radius *= 1.02; // Approximate golden spiral growth
                
                requestAnimationFrame(spiralAnimation);
            };
            
            spiralAnimation();
        }
        
        // Initialize
        animatePentagram();
        
        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pentagram-pulse {
                0%, 100% { transform: scale(1); }
                50% { transform: scale(1.2); box-shadow: 0 0 20px gold; }
            }
            
            .pentagram-aspect {
                cursor: pointer;
                transition: all 0.3s ease;
            }
            
            .pentagram-aspect:hover {
                transform: scale(1.1);
                text-shadow: 0 0 15px currentColor;
            }
            
            .interactive-pentagram {
                margin: 2rem auto;
                text-align: center;
            }
            
            #pentagram-canvas {
                border: 2px solid rgba(255,255,255,0.3);
                border-radius: 10px;
                background: rgba(0,0,0,0.8);
                cursor: crosshair;
            }
            
            .golden-ratio-info {
                margin-top: 1rem;
                color: gold;
                font-family: monospace;
                font-size: 0.9rem;
            }
            
            .pentagram-ascii {
                cursor: pointer;
                transition: all 0.3s ease;
            }
            
            .pentagram-ascii:hover {
                transform: scale(1.05);
                opacity: 0.8;
                color: gold;
            }
        `;
        document.head.appendChild(style);
        
        // Show welcome message
        setTimeout(() => {
            const welcome = document.createElement('div');
            welcome.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 1rem;
                border: 1px solid gold;
                border-radius: 5px;
                z-index: 1000;
                font-family: monospace;
                text-align: center;
            `;
            
            welcome.innerHTML = `
                <div style="text-align: center; font-size: 1.2rem;">
                    ⛤ → φ → ∞
                </div>
                <div style="font-size: 0.8rem; opacity: 0.7; margin-top: 0.5rem; text-align: center;">
                    ✦ ↔ φ ↔ 🌀
                </div>
            `;
            
            document.body.appendChild(welcome);
            
            setTimeout(() => welcome.remove(), 8000);
        }, 1000);
    </script>
</body>
</html>