<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âœ¦ â—Š âœ¦</title>
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/ascii.css">
    <link rel="stylesheet" href="/css/symbols.css">
    <link rel="stylesheet" href="/css/navigation.css">
    <link rel="stylesheet" href="/css/harmonics.css">
</head>
<body>
    <div class="container">
        <div class="border">
            <div class="ascii-art">
     Â·  âœ¦  Â·   âœ§   Â·  âœ¦  Â·
         Â·    âœ¦    Â·
    âœ§  â˜† âœ© âœª âœ¨  âœ§
         Â·    âœ¦    Â·
     Â·  âœ¦  Â·   âœ§   Â·  âœ¦  Â·
            </div>
            
            <div class="ascii-art">
           âœ¦
          â•± â•²
         â•±   â•²
        â”‚  â˜‰  â”‚
         â•²   â•±
          â•² â•±
           Â·
     âœ§         âœ§
    Â·     â—     Â·
   âœ¦    â•±   â•²    âœ¦
  Â·    â”‚     â”‚    Â·
       â•²     â•±
        â•²___â•±
            </div>
            
            <div class="divider">Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â·</div>
            
            <div class="symbol-grid">
                <a href="constellations.html" class="symbol nav-link">âœ§</a>
                <a href="nebula.html" class="symbol nav-link">â—‰</a>
                <a href="planets.html" class="symbol nav-link">â˜‰</a>
                <a href="void.html" class="symbol nav-link">â—</a>
                <a href="galaxies.html" class="symbol nav-link">âœ¦</a>
                <a href="eclipse.html" class="symbol nav-link">â—</a>
                <a href="aurora.html" class="symbol nav-link">â‰ˆ</a>
                <a href="quasar.html" class="symbol nav-link">âœº</a>
            </div>
            
            <div class="ascii-art" style="font-size: 0.7rem;">
    . Â· Ëš * ğŸŒŒ * Ëš Â· .
         âˆ â‰ˆ âˆ
      â—‹ â†’ âœ¦ â†’ â—‹
            </div>
            
            <div class="navigation">
                <a href="/realms/mathematics/" class="nav-link">âˆ‘</a>
                <a href="/" class="nav-link">â—Š</a>
                <a href="/realms/glyphs/" class="nav-link">â˜¥</a>
            </div>
        </div>
    </div>
    
    <script src="/js/particles.js"></script>
    <script src="/js/quantum-particles.js"></script>
    <script src="/js/harmonics.js"></script>
    <script>
        // â™« âœ¦ âˆ
        window.harmonics.init();
        
        // Ïˆ âœ¦ â˜‰
        const quantumField = window.quantumParticles.init([
            'âœ¦', 'âœ§', 'Â·', 'Ëš', '*', 'â˜‰', 'â—‰', 'â—‹', 'ğŸŒŒ', 'â­', 'â˜„', 'ğŸŒ '
        ]);
        
        // â—‹ â— â—‰
        initParticles(['âœ¦', 'âœ§', 'Â·', 'Ëš', '*', 'â˜‰', 'â—‰', 'â—‹']);
        
        // âœ¦ âˆ¼ Ïˆ
        setInterval(() => {
            const stars = document.querySelectorAll('.ascii-art');
            stars.forEach(star => {
                if (Math.random() > 0.95) {
                    // Ïˆ âˆ¼ âœ¦
                    const opacity = Math.random() * 0.5 + 0.5;
                    star.style.opacity = opacity;
                    star.style.filter = `blur(${(1 - opacity) * 2}px)`;
                    
                    setTimeout(() => {
                        star.style.opacity = 1;
                        star.style.filter = 'none';
                    }, 200);
                    
                    // Ïˆ â†’ â—
                    if (Math.random() > 0.9) {
                        const rect = star.getBoundingClientRect();
                        quantumField.createParticle(
                            rect.left + rect.width / 2,
                            rect.top + rect.height / 2,
                            ['âœ¦', 'âœ§', 'Â·'][Math.floor(Math.random() * 3)]
                        );
                    }
                }
            });
        }, 100);
        
        // âœ¦ âˆ¼ â–¡
        const cosmicBackground = document.createElement('canvas');
        cosmicBackground.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.05;
            z-index: -1;
        `;
        cosmicBackground.width = window.innerWidth;
        cosmicBackground.height = window.innerHeight;
        document.body.appendChild(cosmicBackground);
        
        const ctx = cosmicBackground.getContext('2d');
        
        // âœ¦ âˆ¼ â– 
        function drawCosmicBackground() {
            const imageData = ctx.createImageData(cosmicBackground.width, cosmicBackground.height);
            const data = imageData.data;
            
            for (let i = 0; i < data.length; i += 4) {
                // âœ¦ âˆ¼ Î”T
                const temperature = 2.725 + (Math.random() - 0.5) * 0.0001;
                const intensity = Math.floor(temperature * 100);
                
                data[i] = intensity;     // Red
                data[i + 1] = intensity; // Green
                data[i + 2] = intensity; // Blue
                data[i + 3] = 255;       // Alpha
            }
            
            ctx.putImageData(imageData, 0, 0);
        }
        
        drawCosmicBackground();
        
        // Hâ‚€ â†’ â—Š
        let hubbleConstant = 70; // km/s/Mpc
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'h' || e.key === 'H') {
                const hubbleDiv = document.createElement('div');
                hubbleDiv.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: rgba(0,0,0,0.8);
                    color: white;
                    padding: 1rem;
                    border: 1px solid #fff;
                    font-family: monospace;
                    z-index: 1000;
                `;
                
                hubbleDiv.innerHTML = `
                    <div>Hâ‚€: ${hubbleConstant} km/s/Mpc</div>
                    <div>â˜‰Ï„: ${(1/hubbleConstant * 978).toFixed(1)} Gyr</div>
                    <div>â—‹â‰¡: ${(3000/hubbleConstant).toFixed(1)} Gpc</div>
                    <div style="font-size: 0.8rem; opacity: 0.7; margin-top: 0.5rem;">
                        âŒ¨ â†’ âˆ…
                    </div>
                `;
                
                document.body.appendChild(hubbleDiv);
                
                const dismissHandler = () => {
                    hubbleDiv.remove();
                    document.removeEventListener('keydown', dismissHandler);
                };
                
                setTimeout(() => {
                    document.addEventListener('keydown', dismissHandler);
                }, 100);
            }
        });
        
        // Îµá´° â†’ â—Š
        document.addEventListener('keydown', (e) => {
            if (e.key === 'd' || e.key === 'D') {
                const drakeDiv = document.createElement('div');
                drakeDiv.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: rgba(0,0,0,0.9);
                    color: white;
                    padding: 2rem;
                    border: 2px solid #fff;
                    font-family: monospace;
                    z-index: 1000;
                    text-align: center;
                `;
                
                const N = 1 * 10 * 0.5 * 1 * 0.2 * 0.1 * 10000;
                
                drakeDiv.innerHTML = `
                    <h3>Îµá´° âˆ‘</h3>
                    <pre>
N = R* Ã— fp Ã— ne Ã— fl Ã— fi Ã— fc Ã— L

âˆ´:
R* = 1    (âœ¦ â†’ âŠ•)
fp = 10   (âŠ• â†’ â—‹)
ne = 0.5  (âŠ• â‰ˆ â™)
fl = 1    (â™ â†’ â™€)
fi = 0.2  (â™€ â†’ Ïˆ)
fc = 0.1  (Ïˆ â†’ â§)
L = 10^4  (Ï„ âˆ)

N = ${N.toFixed(0)} Ïˆâ™€
                    </pre>
                    <div style="font-size: 0.8rem; opacity: 0.7;">
                        âŒ¨ â†’ âˆ…
                    </div>
                `;
                
                document.body.appendChild(drakeDiv);
                
                const dismissHandler = () => {
                    drakeDiv.remove();
                    document.removeEventListener('keydown', dismissHandler);
                };
                
                setTimeout(() => {
                    document.addEventListener('keydown', dismissHandler);
                }, 100);
            }
        });
        
        // â˜‰ âŸ· âš«
        const stellarTypes = ['â˜‰', 'â­', 'ğŸŒŸ', 'ğŸ’«', 'âš«'];
        let currentStellarType = 0;
        
        document.querySelectorAll('.ascii-art').forEach(art => {
            if (art.textContent.includes('â˜‰')) {
                art.addEventListener('click', () => {
                    currentStellarType = (currentStellarType + 1) % stellarTypes.length;
                    art.innerHTML = art.innerHTML.replace('â˜‰', stellarTypes[currentStellarType]);
                    
                    // â˜‰ âŸ· â„¹
                    const phases = [
                        'â˜‰ â†’ â˜…',
                        'â˜… â†’ ğŸ”´',
                        'ğŸ”´ â†’ âšª',
                        'âšª â†’ ğŸ’«',
                        'ğŸ’« â†’ âš«'
                    ];
                    
                    const info = document.createElement('div');
                    info.style.cssText = `
                        position: fixed;
                        bottom: 20px;
                        left: 50%;
                        transform: translateX(-50%);
                        background: rgba(0,0,0,0.8);
                        color: white;
                        padding: 0.5rem 1rem;
                        border-radius: 5px;
                        z-index: 1000;
                        font-family: monospace;
                    `;
                    
                    info.textContent = `â˜‰âŸ·: ${phases[currentStellarType]}`;
                    document.body.appendChild(info);
                    
                    setTimeout(() => info.remove(), 2000);
                });
            }
        });
        
        // âœ¦ âŸ· â–¡
        let constellationMode = false;
        let constellationPoints = [];
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'c' || e.key === 'C') {
                constellationMode = !constellationMode;
                if (constellationMode) {
                    document.body.style.cursor = 'crosshair';
                    constellationPoints = [];
                } else {
                    document.body.style.cursor = '';
                    // âœ¦ â†’ âˆ…
                    document.querySelectorAll('.constellation-line').forEach(line => line.remove());
                }
            }
        });
        
        document.addEventListener('click', (e) => {
            if (constellationMode) {
                constellationPoints.push({ x: e.clientX, y: e.clientY });
                
                // Create star marker
                const star = document.createElement('div');
                star.style.cssText = `
                    position: fixed;
                    left: ${e.clientX}px;
                    top: ${e.clientY}px;
                    width: 4px;
                    height: 4px;
                    background: white;
                    border-radius: 50%;
                    transform: translate(-50%, -50%);
                    z-index: 1000;
                `;
                star.className = 'constellation-star';
                document.body.appendChild(star);
                
                // Draw line to previous point
                if (constellationPoints.length > 1) {
                    const prev = constellationPoints[constellationPoints.length - 2];
                    const curr = constellationPoints[constellationPoints.length - 1];
                    
                    const line = document.createElement('div');
                    const dx = curr.x - prev.x;
                    const dy = curr.y - prev.y;
                    const length = Math.sqrt(dx * dx + dy * dy);
                    const angle = Math.atan2(dy, dx);
                    
                    line.style.cssText = `
                        position: fixed;
                        left: ${prev.x}px;
                        top: ${prev.y}px;
                        width: ${length}px;
                        height: 1px;
                        background: rgba(255,255,255,0.5);
                        transform-origin: left center;
                        transform: rotate(${angle}rad);
                        z-index: 999;
                    `;
                    line.className = 'constellation-line';
                    document.body.appendChild(line);
                }
            }
        });
    </script>
</body>
</html>