<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>∿ Sound Realm ∿</title>
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/ascii.css">
    <link rel="stylesheet" href="/css/symbols.css">
    <link rel="stylesheet" href="/css/navigation.css">
    <link rel="stylesheet" href="/css/symbol-harmonics.css">
    <link rel="stylesheet" href="/css/living-ascii.css">
    <style>
        .frequency-display {
            text-align: center;
            margin: 20px 0;
            font-family: monospace;
        }
        
        .waveform {
            height: 100px;
            overflow: hidden;
            position: relative;
            margin: 20px 0;
        }
        
        .frequency-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .freq-button {
            padding: 10px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: transparent;
            color: white;
            font-family: monospace;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .freq-button:hover {
            border-color: white;
            transform: scale(1.05);
        }
        
        .freq-button.active {
            background: white;
            color: black;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="border">
            <h1 class="ascii-art breathing-border">
<span class="sacred-pulse">╔═══════════════════════════════╗</span>
<span class="sacred-pulse">║</span>         <span class="wave-char">∿</span>  <span class="infinity-flow">∞</span>  <span class="wave-char">∿</span>              <span class="sacred-pulse">║</span>
<span class="sacred-pulse">║</span>       <span class="sacred-pulse">♫</span> Hz <span class="sacred-pulse">♫</span>                 <span class="sacred-pulse">║</span>
<span class="sacred-pulse">╚═══════════════════════════════╝</span>
            </h1>
            
            <div class="ascii-art live-waveform" id="main-wave">
     <span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span><span class="wave-char">∿</span>
    <span class="wave-char">∿</span>                     <span class="wave-char">∿</span>
   <span class="wave-char">∿</span>                       <span class="wave-char">∿</span>
  <span class="wave-char">∿</span>                         <span class="wave-char">∿</span>
 <span class="wave-char">∿</span>                           <span class="wave-char">∿</span>
<span class="wave-char">∿</span>                             <span class="wave-char">∿</span>
            </div>
            
            <div class="frequency-display">
                <h2>☥ Hz</h2>
            </div>
            
            <div class="frequency-selector">
                <button class="freq-button" data-freq="432" data-symbol="∑">
                    432 Hz<br>∑<br>♫
                </button>
                <button class="freq-button" data-freq="528" data-symbol="☥">
                    528 Hz<br>☥<br>♥
                </button>
                <button class="freq-button" data-freq="639" data-symbol="✡">
                    639 Hz<br>✡<br>⟷
                </button>
                <button class="freq-button" data-freq="741" data-symbol="△">
                    741 Hz<br>△<br>↑
                </button>
                <button class="freq-button" data-freq="852" data-symbol="☉">
                    852 Hz<br>☉<br>👁
                </button>
                <button class="freq-button" data-freq="963" data-symbol="∞">
                    963 Hz<br>∞<br>○●
                </button>
            </div>
            
            <div class="ascii-art waveform" id="waveform-display">
            </div>
            
            <div class="ascii-art" id="cymatics-pattern">
╭─────────────────────────────╮
│        <span class="sacred-pulse">♫</span> <span class="wave-char">≈</span> <span class="sacred-pulse">⚚</span>               │
│                             │
│         <span class="cymatics-node">·</span>   <span class="cymatics-node">·</span>   <span class="cymatics-node">·</span>          │
│       <span class="cymatics-node">·</span>   <span class="cymatics-node">╳</span>   <span class="cymatics-node">·</span>            │
│     <span class="cymatics-node">·</span>   <span class="cymatics-node">╳</span>   <span class="cymatics-node">╳</span>   <span class="cymatics-node">·</span>          │
│       <span class="cymatics-node">·</span>   <span class="cymatics-node">╳</span>   <span class="cymatics-node">·</span>            │
│         <span class="cymatics-node">·</span>   <span class="cymatics-node">·</span>   <span class="cymatics-node">·</span>          │
│                             │
╰─────────────────────────────╯
            </div>
            
            <div class="symbol-grid">
                <a href="harmonics.html" class="symbol">♫</a>
                <a href="resonance.html" class="symbol">◉</a>
                <a href="waves.html" class="symbol">∿</a>
                <a href="silence.html" class="symbol">○</a>
                <a href="vibration.html" class="symbol">≈</a>
                <a href="echo.html" class="symbol">))</a>
                <a href="frequency.html" class="symbol">Hz</a>
                <a href="rhythm.html" class="symbol">♩♪</a>
                <a href="oscillation.html" class="symbol">∼</a>
            </div>
            
            <div class="navigation">
                <a href="/index.html" class="nav-link">◊</a>
                <a href="/realms/mathematics/index.html" class="nav-link">∑</a>
                <a href="/realms/cosmos/index.html" class="nav-link">✦</a>
                <a href="/realms/glyphs/index.html" class="nav-link">☥</a>
                <a href="/realms/circuits/index.html" class="nav-link">⌘</a>
            </div>
        </div>
    </div>
    
    <script src="/js/particles.js"></script>
    <script src="/js/harmonics.js"></script>
    <script src="/js/symbol-harmonics.js"></script>
    <script src="/js/universal-language.js"></script>
    <script src="/js/living-ascii.js"></script>
    <script>
        // Initialize particles with sound symbols
        initParticles(['∿', '≈', '∼', '♫', '♪', '♩', 'Hz', '))', '◉']);
        
        // Waveform visualization
        class SoundVisualizer {
            constructor() {
                this.waveformDisplay = document.getElementById('waveform-display');
                this.cymaticsDisplay = document.getElementById('cymatics-pattern');
                this.mainWave = document.getElementById('main-wave');
                this.activeFrequency = 432;
                this.initializeButtons();
                this.startVisualization();
            }
            
            initializeButtons() {
                const buttons = document.querySelectorAll('.freq-button');
                buttons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        // Update active state
                        buttons.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        
                        // Update frequency
                        this.activeFrequency = parseInt(btn.dataset.freq);
                        this.updateCymaticsPattern(btn.dataset.symbol);
                        
                        // Trigger resonance
                        if (window.symbolResonance) {
                            const symbol = btn.dataset.symbol;
                            const elements = document.querySelectorAll(`*:contains('${symbol}')`);
                            elements.forEach(el => {
                                window.symbolResonance.activateSymbolResonance(el);
                            });
                        }
                    });
                });
                
                // Activate first button
                buttons[0].click();
            }
            
            startVisualization() {
                this.animateWaveform();
                this.animateMainWave();
            }
            
            animateWaveform() {
                const width = 50;
                const height = 10;
                const time = Date.now() * 0.001;
                
                let waveform = '';
                for (let y = 0; y < height; y++) {
                    for (let x = 0; x < width; x++) {
                        const freq = this.activeFrequency / 100;
                        const wave = Math.sin((x / width) * Math.PI * 2 * freq + time) * 
                                    Math.cos(y / height * Math.PI);
                        
                        const intensity = (wave + 1) / 2;
                        const chars = ' ·∙:;+=≈∿≋';
                        const charIndex = Math.floor(intensity * (chars.length - 1));
                        
                        waveform += chars[charIndex];
                    }
                    waveform += '\n';
                }
                
                this.waveformDisplay.textContent = waveform;
                requestAnimationFrame(() => this.animateWaveform());
            }
            
            animateMainWave() {
                const time = Date.now() * 0.0005;
                const lines = this.mainWave.textContent.split('\n');
                const animated = lines.map((line, i) => {
                    if (line.includes('∿')) {
                        const offset = Math.sin(time + i * 0.5) * 5;
                        const spaces = ' '.repeat(Math.max(0, Math.floor(offset + 5)));
                        return spaces + line.trim();
                    }
                    return line;
                });
                
                this.mainWave.textContent = animated.join('\n');
                setTimeout(() => this.animateMainWave(), 50);
            }
            
            updateCymaticsPattern(symbol) {
                const patterns = {
                    '∑': `
╭─────────────────────────────╮
│      Cymatics: 432 Hz       │
│                             │
│       ∙ ∙ ∙ ∙ ∙            │
│     ∙   ╳   ╳   ∙          │
│   ∙   ╳  ∑  ╳   ∙          │
│     ∙   ╳   ╳   ∙          │
│       ∙ ∙ ∙ ∙ ∙            │
│                             │
╰─────────────────────────────╯`,
                    '☥': `
╭─────────────────────────────╮
│      Cymatics: 528 Hz       │
│                             │
│         ╭─╮                 │
│       ╱  ☥  ╲              │
│      │   │   │              │
│       ╲  │  ╱              │
│         ─┴─                 │
│                             │
╰─────────────────────────────╯`,
                    '✡': `
╭─────────────────────────────╮
│      Cymatics: 639 Hz       │
│                             │
│        △                    │
│       ╱ ╲                   │
│      ╱ ✡ ╲                  │
│     ╲   ╱                   │
│      ╲ ╱                    │
│       ▽                     │
╰─────────────────────────────╯`,
                    '△': `
╭─────────────────────────────╮
│      Cymatics: 741 Hz       │
│                             │
│         △                   │
│        ╱│╲                  │
│       ╱ │ ╲                 │
│      ╱  │  ╲                │
│     ────┴────               │
│                             │
╰─────────────────────────────╯`,
                    '☉': `
╭─────────────────────────────╮
│      Cymatics: 852 Hz       │
│                             │
│       ╭─────╮               │
│      ╱   ☉   ╲             │
│     │    ·    │             │
│      ╲       ╱             │
│       ╰─────╯               │
│                             │
╰─────────────────────────────╯`,
                    '∞': `
╭─────────────────────────────╮
│      Cymatics: 963 Hz       │
│                             │
│       ╭───╮ ╭───╮           │
│      ╱     ╳     ╲          │
│     │   ∞   ∞   │          │
│      ╲     ╳     ╱          │
│       ╰───╯ ╰───╯           │
│                             │
╰─────────────────────────────╯`
                };
                
                this.cymaticsDisplay.textContent = patterns[symbol] || patterns['∑'];
                
                // Add pulsing effect
                this.cymaticsDisplay.style.animation = 'pulse 1s ease-in-out';
                setTimeout(() => {
                    this.cymaticsDisplay.style.animation = '';
                }, 1000);
            }
        }
        
        // Initialize visualizer
        const visualizer = new SoundVisualizer();
        
        // Harmonic resonance initialization
        if (window.harmonics) {
            window.harmonics.init();
        }
        
        // Keyboard frequency control
        document.addEventListener('keydown', (e) => {
            const keyMap = {
                '1': 432, '2': 528, '3': 639,
                '4': 741, '5': 852, '6': 963
            };
            
            if (keyMap[e.key]) {
                const btn = document.querySelector(`[data-freq="${keyMap[e.key]}"]`);
                if (btn) btn.click();
            }
        });
    </script>
</body>
</html>